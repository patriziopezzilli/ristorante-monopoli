import React, { useEffect } from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate, useLocation } from 'react-router-dom';
import Header from './components/Header';
import Hero from './components/Hero';
import About from './components/About';
import Menu from './components/Menu';
import LoyaltyCard from './components/LoyaltyCard';
import Gallery from './components/Gallery';
import Contact from './components/Contact';
import Footer from './components/Footer';
import AdminLogin from './components/AdminLogin';
import AdminDashboard from './components/AdminDashboard';
import { AuthProvider, useAuth } from './components/AuthContext';
import { I18nProvider, useI18n } from './i18n/I18nContext';
import { analyticsService } from './src/analytics';

// Loading screen component
const LoadingScreen: React.FC = () => (
  <div className="min-h-screen bg-white flex items-center justify-center">
    <div className="text-center">
      {/* Rotating Pizza Image */}
      <img
        src="data:image/png;base64,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"
        alt="Pizza"
        className="animate-spin"
        style={{ width: '120px', height: '120px' }}
      />
    </div>
  </div>
);

const ProtectedRoute: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const { isAuthenticated } = useAuth();
  return isAuthenticated ? <>{children}</> : <Navigate to="/admin" />;
};

const AppContent: React.FC = () => {
  const location = useLocation();
  const { isLoading } = useI18n();

  useEffect(() => {
    // Track page view when route changes
    const pageName = location.pathname === '/' ? 'home' : location.pathname.substring(1);
    analyticsService.trackPageView(pageName);
  }, [location]);

  return (
    <Routes>
      <Route path="/" element={
        isLoading ? (
          <LoadingScreen />
        ) : (
          <>
            <Header />
            <Hero />
            <About />
            <Menu />
            <LoyaltyCard />
            <Gallery />
            <Contact />
            <Footer />
          </>
        )
      } />
      <Route path="/admin" element={<AdminLogin />} />
      <Route path="/admin/dashboard" element={
        <ProtectedRoute>
          <AdminDashboard />
        </ProtectedRoute>
      } />
    </Routes>
  );
};

const App: React.FC = () => {
  return (
    <AuthProvider>
      <I18nProvider>
        <Router>
          <AppContent />
        </Router>
      </I18nProvider>
    </AuthProvider>
  );
};

export default App;
